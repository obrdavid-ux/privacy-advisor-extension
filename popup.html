<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Privacy Risk Advisor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-title">
        <span class="header-icon">üõ°Ô∏è</span>
        <h1>Privacy Risk Advisor</h1>
      </div>
      <div class="current-site" id="currentSite">‚Äî</div>
    </header>

    <!-- Controls -->
    <div class="controls" id="controls">
      <div class="control-row">
        <label for="userType">User type</label>
        <select id="userType">
          <option value="adult" selected>Adult</option>
          <option value="teen">Teen (13‚Äì17)</option>
          <option value="child">Child (under 13)</option>
        </select>
      </div>
      <div class="control-row">
        <label for="region">Region</label>
        <select id="region">
          <option value="US" selected>US</option>
          <option value="EU/UK">EU / UK</option>
        </select>
      </div>
      <button class="analyze-btn" id="analyzeBtn">
        <span class="btn-text">Analyze This Site</span>
        <span class="btn-loading hidden">
          <span class="spinner"></span> Analyzing‚Ä¶
        </span>
      </button>
    </div>

    <!-- Loading State -->
    <div class="state loading-state hidden" id="loadingState">
      <div class="loading-animation">
        <span class="spinner large"></span>
        <p>Reading privacy policy‚Ä¶</p>
        <p class="loading-sub">This typically takes 15‚Äì30 seconds</p>
      </div>
    </div>

    <!-- Error State -->
    <div class="state error-state hidden" id="errorState">
      <div class="error-content">
        <span class="error-icon">‚ö†Ô∏è</span>
        <p class="error-message" id="errorMessage">Something went wrong.</p>
        <button class="retry-btn" id="retryBtn">Try Again</button>
      </div>
    </div>

    <!-- Results -->
    <div class="results hidden" id="results">
      <!-- Verdict Banner -->
      <div class="verdict-banner" id="verdictBanner">
        <div class="verdict-icon" id="verdictIcon"></div>
        <div class="verdict-text">
          <div class="verdict-decision" id="verdictDecision"></div>
          <div class="verdict-reason" id="verdictReason"></div>
        </div>
      </div>

      <!-- Risk Level -->
      <div class="risk-level" id="riskLevel"></div>

      <!-- Factor Table -->
      <div class="section">
        <h2>Factor Breakdown</h2>
        <table class="factor-table" id="factorTable">
          <tbody></tbody>
        </table>
      </div>

      <!-- What You're Agreeing To -->
      <div class="section">
        <h2>What You're Agreeing To</h2>
        <ul class="bullet-list" id="agreeingTo"></ul>
      </div>

      <!-- Your Rights -->
      <div class="section">
        <h2>Your Rights</h2>
        <ul class="bullet-list" id="yourRights"></ul>
      </div>

      <!-- Key Limits -->
      <div class="section" id="keyLimitsSection">
        <h2>Key Limits</h2>
        <ul class="bullet-list" id="keyLimits"></ul>
      </div>

      <!-- The Real Cost -->
      <div class="section" id="realCostSection">
        <h2>The Real Cost</h2>
        <p id="realCost"></p>
      </div>

      <!-- If You Stay / Leave -->
      <div class="section">
        <h2>If You Stay</h2>
        <ul class="bullet-list" id="ifYouStay"></ul>
      </div>

      <div class="section">
        <h2>If You Leave</h2>
        <table class="exit-table" id="ifYouLeave">
          <tbody></tbody>
        </table>
      </div>

      <!-- Disclaimer -->
      <div class="disclaimer">
        ‚ö†Ô∏è This summary is not legal advice. Policies change; consult a professional for consequential decisions.
      </div>

      <!-- Actions -->
      <div class="actions">
        <button class="action-btn" id="refreshBtn" title="Re-analyze (bypass cache)">üîÑ Refresh</button>
        <button class="action-btn" id="copyBtn" title="Copy verdict to clipboard">üìã Copy</button>
      </div>
    </div>

    <!-- Cache indicator -->
    <div class="cache-info hidden" id="cacheInfo">
      <span>Cached result from <span id="cacheDate"></span></span>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
